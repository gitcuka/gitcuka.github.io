<!DOCTYPE html>
<html lang="id">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>
{% if page.title %}
  {{ page.title }} | {{ site.title }}
{% else %}
  {{ site.title }}
{% endif %}
</title>
<meta name="description" content="{% if page.excerpt %}{{ page.excerpt | strip_html | strip_newlines | truncate: 160 }}{% else %}{{ site.description }}{% endif %}">
  <link rel="canonical" href="{{ page.url | absolute_url }}">
  <link rel="icon" href="{{ '/assets/gitcuka.jpg' | relative_url }}">
  <meta property="og:title" content="{{ page.title | gitcuka: site.title }}">
  <meta property="og:description" content="{% if page.excerpt %}{{ page.excerpt | strip_html | truncate: 160 }}{% else %}{{ site.description }}{% endif %}">
  <meta property="og:url" content="{{ page.url | absolute_url }}">
  <meta property="og:site_name" content="{{ site.title }}">
  <meta property="og:type" content="{% if page.layout == 'gitcukapost' %}article{% else %}website{% endif %}">
  <meta property="og:image" content="{% if page.thumbnail %} {{ page.thumbnail | absolute_url }} {% else %} {{ site.url }}/assets/gitcuka.jpg {% endif %}">
  <meta name="twitter:card" content="summary">
  <meta name="twitter:title" content="{{ page.title | gitcuka: site.title }}">
  <meta name="twitter:description" content="{% if page.excerpt %}{{ page.excerpt | strip_html | truncate: 160 }}{% else %}{{ site.description }}{% endif %}">
  <meta name="twitter:image" content="{% if page.thumbnail %} {{ page.thumbnail | absolute_url }} {% else %} {{ site.url }}/assets/gitcuka.jpg {% endif %}">
  <link rel="alternate" type="application/atom+xml" title="{{ site.title }}" href="{{ '/feed.xml' | relative_url }}">
  <link rel="sitemap" type="application/xml" title="Sitemap" href="{{ '/sitemap.xml' | relative_url }}">
  <link rel="stylesheet" href="{{ '/assets/gitcukastyles.css' | relative_url }}">
  {%- seo -%}
  <meta name="google-site-verification" content="lGwFajYY5MSjoPWpB788RrOYyqEigrGLEmKUUxHrLfQ" />
  <!-- Google tag (gtag.js) -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-V5H15HGP0W"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-V5H15HGP0W');
</script>
</head>

<body>

{% include sidebar-left.html %}

<header class="site-header">
  <button class="menu-toggle" onclick="toggleMenu()">☰</button>
  <div>
    <strong>{{ site.title }}</strong><br>
    <small>{{ site.description }}</small>
  </div>
</header>

<div class="site-wrapper">

  <div class="content-wrapper">

    <main>
      {{ content }}
    </main>

    <aside class="sidebar-right">

  <h3>Cari Postingan</h3>

  <input
    type="text"
    id="searchInput"
    placeholder="Ketik judul postingan..."
  >

  <ul id="searchResults"></ul>

    </aside>

  </div>

  <footer>
    © {{ site.time | date: "%Y" }} {{ site.title }}
  </footer>

</div>

<script>
function toggleMenu() {
  document.getElementById("sidebar").classList.toggle("active");
}

const posts = [
  {% for post in site.posts %}
  {
    title: "{{ post.title | escape }}",
    url: "{{ post.url | relative_url }}"
  }{% unless forloop.last %},{% endunless %}
  {% endfor %}
];

const searchInput = document.getElementById("searchInput");
const searchResults = document.getElementById("searchResults");

searchInput.addEventListener("input", function () {
  const keyword = this.value.toLowerCase();
  searchResults.innerHTML = "";

  if (keyword.length < 2) return;

  const results = posts.filter(post =>
    post.title.toLowerCase().includes(keyword)
  );

  if (results.length === 0) {
    searchResults.innerHTML = "<li>Tidak ditemukan</li>";
    return;
  }

  results.forEach(post => {
    const li = document.createElement("li");
    const a = document.createElement("a");
    a.href = post.url;
    a.textContent = post.title;
    li.appendChild(a);
    searchResults.appendChild(li);
  });
});

</script>

</body>
</html>
